plugins {
    id 'java-base'
}

configure(subprojects) {
    apply plugin: 'java'
    sourceCompatibility = 1.10

    repositories {
        jcenter()
        maven { url 'https://jitpack.io' }
        maven { url 'https://raw.githubusercontent.com/JesusMcCloud/tor-binary/master/release/' }
    }

    tasks.withType(JavaCompile) {
        options.encoding = 'UTF-8'
    }
}

configure([project(':desktop'),
           project(':monitor'),
           project(':relay'),
           project(':seednode'),
           project(':statsnode')]) {
    apply plugin: 'application'

    build.dependsOn installDist
    installDist.destinationDir = file('build/app')
    distZip.enabled = false
}

configure(project(':assets')) {
    dependencies {
        compile('network.bisq.libdohj:libdohj-core:d4ace7bc') {
            exclude(module: 'protobuf-java')
        }
        compile 'commons-codec:commons-codec:1.9'
        compile 'org.apache.commons:commons-lang3:3.4'
        compile 'org.bouncycastle:bcpg-jdk15on:1.56'
        testCompile 'junit:junit:4.12'
    }
}
